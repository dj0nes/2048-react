/*body{*/
    /*!*background:#f5f5f5;*!*/
/*}*/

:root {
    --cube-size: 8em;
    --cube-size-half: 4em;
}

#board-3D {
    perspective:1700px;
    perspective-origin: 50% 0%;
    transform-style:preserve-3d;
    transform: rotate3d(1, 2, 0, -20deg);
    transition:200ms ease-in;
}

.tile3D-wrapper{
    /*perspective: 3000px;*/
    transition:150ms ease-in;
    position: absolute;
    transform-style: preserve-3d;
}

.tile3D div {
    position:absolute;
    width:var(--cube-size);
    height:var(--cube-size);
    background:rgba(0,0,0,0.1);
    display: flex;
    border: 1px solid #8e8e8e2e;
    justify-content: center;
    align-items: center;
    backface-visibility: hidden;
    opacity: 1;
}

.tile3D {
    /*position:absolute;*/
    width:var(--cube-size);
    height:var(--cube-size);
    transform-style:preserve-3d;
    /*transform: translate3d(0em, 0em, 0em) rotateY(30deg);*/
    /*transition:200ms ease-in;*/
}

#board-3D .tile.tile-128 .tile-inner span,
#board-3D .tile.tile-256 .tile-inner span,
#board-3D .tile.tile-512 .tile-inner span {
    font-size: 4.75em;
}

#board-3D .tile.tile-1024 .tile-inner span,
#board-3D .tile.tile-2048 .tile-inner span,
#board-3D .tile.tile-super .tile-inner span {
    font-size: 3.5em;
}

.tile3D.remove {
    transform: scale3d(0.5, 0.5, 0.5);
}

.tile3D div:nth-child(1){
    transform:translateZ(var(--cube-size-half));
}

.tile3D div:nth-child(2){
    transform: rotateX(180deg) translateZ(var(--cube-size-half));
}

.tile3D div:nth-child(3){
    transform: rotateY(-90deg) translateZ(var(--cube-size-half));
}

.tile3D div:nth-child(4){
    transform:rotateY(90deg) translateZ(var(--cube-size-half));
}

.tile3D div:nth-child(5){
    transform: rotateX(90deg) translateZ(var(--cube-size-half));
}

.tile3D div:nth-child(6){
    transform:rotateX(-90deg) translateZ(var(--cube-size-half));
}

.tile-inner.tile-placeholder {
    background: none;

}

@keyframes appear3D {
    0% {
        /*opacity: .25;*/
        transform: translate3d(0, 0, 0) scale3d(.05, .05, .05);
    }

    100% {
        /*opacity: 1;*/
        transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
    }
}

@keyframes pop {
    0%   { transform: scale(0); }
    50%  { transform: scale(1.2); }
    100% { transform: scale(1); }
}


@keyframes popAgain {
    0%   { transform: scale(0); }
    50%  { transform: scale(1.2); }
    100% { transform: scale(1); }
}

.tile3D.new_tile {
    animation: appear3D 200ms ease 100ms;
    animation-fill-mode: backwards;
}

.tile3D.tile_merged {
    animation: pop 200ms ease 100ms;
    animation-fill-mode: backwards;
}

.tile3D.tile_merged_again {
    animation: popAgain 200ms ease 100ms;
    animation-fill-mode: backwards;
}

.tile3D .tile-inner span {
    font-size: 6em;
}